# 캠페인 지원하기

광고주의 요청에 따라 캠페인을 수정, 일시정지, 취소, 복제하고 소재를 관리하는 방법을 안내합니다.

> 💡 광고주는 캠페인 승인 후 직접 수정하거나 취소할 수 없습니다. 광고주의 요청이 있으면 이 가이드에 따라 처리하세요.

---

## 캠페인 수정

광고주가 승인된 캠페인의 기간이나 타겟팅 변경을 요청할 수 있습니다.

### 수정 가능 항목

| 상태 | 수정 가능 항목 |
|------|---------------|
| **예약됨** | 제목, 기간, 타겟팅 |
| **진행중** | 제목, 종료일 연장, 타겟팅 |
| **일시정지** | 제목, 기간, 타겟팅 |

### 수정 불가 항목

다음 항목은 캠페인 승인 후 변경할 수 없습니다.

- 광고 상품
- 예산
- 과금 유형

> 💡 예산이나 광고 상품 변경이 필요하면 광고주에게 새 캠페인을 예약하도록 안내하세요.

### 수정 방법

1. 캠페인 상세 화면에서 메뉴(⋯)를 클릭합니다.
2. **수정**을 선택합니다.
3. 변경할 항목을 수정합니다.
4. **저장** 버튼을 클릭합니다.

---

## 캠페인 일시정지

광고주가 캠페인 일시정지를 요청할 수 있습니다. 예약됨 또는 진행중인 캠페인만 일시정지할 수 있습니다.

### 일시정지 효과

- 광고 노출이 즉시 중단됩니다.
- 예산 소진이 중단됩니다.
- 캠페인 종료일은 변경되지 않습니다.

> ⚠️ 일시정지 중에도 종료일이 지나면 캠페인이 자동 종료됩니다. 광고주에게 이 점을 안내하세요.

### 캠페인 일시정지 방법

1. 캠페인 상세 화면에서 메뉴(⋯)를 클릭합니다.
2. **일시정지**를 선택합니다.
3. 캠페인 이름을 입력하여 확인합니다.
4. **일시정지** 버튼을 클릭합니다.

### 소재별 일시정지

캠페인 전체가 아닌 특정 소재만 노출을 중지할 수도 있습니다.

1. 캠페인 상세 화면에서 소재를 클릭합니다.
2. **일시정지** 버튼을 클릭합니다.
3. 해당 소재만 노출이 중단됩니다.

### 재개 방법

1. 일시정지된 캠페인 상세 화면에서 메뉴(⋯)를 클릭합니다.
2. **재개**를 선택합니다.
3. 캠페인이 이전 상태로 복귀합니다.

---

## 캠페인 취소

광고주가 승인된 캠페인의 취소를 요청할 수 있습니다. 예약됨, 진행중, 일시정지 상태의 캠페인을 취소할 수 있습니다.

### 취소 전 확인

- 취소된 캠페인은 복구할 수 없습니다.
- 카드 결제 캠페인은 미사용 예산이 자동 환불됩니다.

### 취소 방법

1. 캠페인 상세 화면에서 메뉴(⋯)를 클릭합니다.
2. **취소**를 선택합니다.
3. 최종 정산 금액을 확인하고 입력합니다.
4. 캠페인 이름을 입력하여 확인합니다.
5. **취소** 버튼을 클릭합니다.
6. 광고주에게 취소 알림이 발송됩니다.

### 환불 처리

| 결제 방식 | 환불 |
|----------|------|
| **카드 결제** | 미사용 예산 자동 환불 |
| **수동 결제** | 미사용분 정산 제외 |

---

## 캠페인 복제

기존 캠페인과 동일한 설정으로 새 캠페인을 빠르게 생성할 수 있습니다.

### 복제 방법

1. 캠페인 상세 화면에서 메뉴(⋯)를 클릭합니다.
2. **복제**를 선택합니다.
3. 복제된 캠페인이 **작성중** 상태로 생성됩니다.
4. 예산 등 필요한 항목을 설정하고 제출합니다.

### 복제되는 항목

| 항목 | 복제 여부 |
|------|----------|
| 광고 상품 | O |
| 타겟팅 | O (유효한 경우) |
| 노출 빈도 제한 | O |
| 결제 유형 | O |
| 담당자 정보 | O |
| 소재 | O (유효한 소재만, 재심사 필요) |

> ⚠️ 원본 캠페인의 타겟팅에 포함된 카테고리나 그룹이 삭제/비활성화된 경우, 해당 타겟팅은 초기화됩니다. 복제 후 타겟팅 설정을 반드시 확인하세요.

### 초기화되는 항목

| 항목 | 복제 후 값 |
|------|----------|
| 예산 | 0 (새로 설정 필요) |
| 시작일 | 현재로부터 7일 후 |
| 종료일 | 시작일 + 원본 캠페인 기간 |
| 제목 | 원본 제목 + 고유 ID |
| 상태 | 작성중 |
| 소재 상태 | 심사중 (재심사 필요) |

### 소재 복제 규칙

- 거절됨, 삭제됨 상태의 소재는 복제되지 않습니다.
- 복제된 소재는 모두 **심사중** 상태로 변경되어 재심사가 필요합니다.
- 광고 유닛이 변경되어 호환되지 않는 소재는 제외됩니다.

### 복제 불가 조건

다음 경우에는 캠페인을 복제할 수 없습니다.

- 광고 상품이 삭제된 경우
- 광고 상품의 유닛 세트가 없거나 수정이 필요한 경우

---

## 소재 승인 취소

승인된 소재에 문제가 발견되면 승인을 취소할 수 있습니다.

1. 캠페인 상세 화면에서 소재를 클릭합니다.
2. **거절** 버튼을 클릭합니다.
3. 거절 사유를 선택합니다.
4. 소재 상태가 **거절됨**으로 변경됩니다.
5. 광고주에게 거절 알림이 발송됩니다.

> ⚠️ 캠페인에 승인된 소재가 하나도 없으면 광고가 노출되지 않습니다.

---

## 소재 도착 위치 설정

소재 클릭 시 도착 URL이 열리는 방식을 설정할 수 있습니다. 소재 등록 또는 수정 화면에서 설정할 수 있습니다.

[▶ 영상 보기](./assets/management-target-browser.mp4)

### 브라우저 옵션

| 옵션 | 설명 |
|------|------|
| **기본 브라우저** | 기기에 설정된 기본 브라우저에서 열기 (기본값) |
| **인앱 브라우저** | 앱을 벗어나지 않고 앱 내 브라우저에서 열기 |

### 플랫폼별 동작

| 플랫폼 | 기본 브라우저 | 인앱 브라우저 |
|--------|-------------|--------------|
| **iOS** | Safari 등 기본 앱으로 이동 | SFSafariViewController 사용 |
| **Android** | Chrome Custom Tabs 사용 | Chrome Custom Tabs 사용 |
| **Web** | 새 탭에서 열기 | 현재 탭에서 이동 |

> 💡 Android는 두 옵션 모두 Chrome Custom Tabs를 사용하므로 동작이 동일합니다. iOS에서 인앱 브라우저를 선택하면 사용자가 앱을 벗어나지 않아 이탈률을 줄일 수 있습니다.

### 웹뷰 환경 주의사항

네이티브 앱이라도 웹뷰로 광고를 표시하는 경우, 인앱 브라우저 동작을 위해 매체사의 추가 구현이 필요합니다.

- **iOS**: SDK 초기화 시 `useInAppBrowser: true` 설정 및 WKNavigationDelegate 구현
- **Android**: WebViewClient에서 `shouldOverrideUrlLoading` 구현 및 Custom Tabs 연동

웹뷰에서 링크 클릭을 가로채어 인앱 브라우저로 열어주는 브릿지 구현이 없으면, 설정과 관계없이 웹뷰 내에서 페이지가 이동하거나 외부 브라우저로 열립니다.

### 딥링크 처리

도착 URL이 앱스킴(예: `kakao://`, `instagram://`)인 경우, 인앱 브라우저 설정과 관계없이 해당 앱으로 직접 이동합니다. 인앱 브라우저는 HTTP/HTTPS URL만 지원합니다.

---

## 테스트 기기에서 소재 미리보기

실제 기기에서 광고가 어떻게 보이는지 확인할 수 있습니다. 테스트 기기를 등록하면 해당 기기에서 소재를 미리 볼 수 있습니다.

[▶ 영상 보기](./assets/management-view-on-device.mp4)

### 테스트 기기 등록

1. 우측 상단 프로필 메뉴에서 **테스트 기기**를 클릭합니다.
2. **기기 추가** 버튼을 클릭합니다.
3. 다음 정보를 입력합니다.
   - **기기 이름**: 콘솔에서 구분하기 위한 이름 (2~30자)
   - **ADID**: 기기의 광고 식별자 (UUID 형식)
4. **추가** 버튼을 클릭합니다.

### ADID 확인 방법

ADID(Advertising ID)는 기기별로 부여되는 광고 식별자입니다.

**Android**

1. **설정** 앱을 엽니다.
2. **보안 및 개인정보 보호** > **기타 개인정보 설정**으로 이동합니다.
3. **광고**를 선택합니다.
4. **광고 ID**를 확인합니다.

[AAID - Find your Google Advert](https://play.google.com/store/apps/details?id=com.kyumpany.aaid) 앱을 설치하면 ADID를 클립보드에 복사할 수 있습니다.

**iOS (IDFA)**

1. **설정** 앱을 엽니다.
2. **개인정보 보호 및 보안** > **추적**으로 이동합니다.
3. 앱의 추적 권한이 활성화되어 있는지 확인합니다.

[Get My IDFA](https://apps.apple.com/kr/app/get-my-idfa/id1580368827) 앱을 설치하고 추적을 허용하면 IDFA를 클립보드에 복사할 수 있습니다.

> ⚠️ iOS는 ATT(App Tracking Transparency) 정책에 따라 사용자의 추적 동의가 필요합니다. 추적을 거부하면 광고 식별자에 접근할 수 없습니다.

### 미리보기 실행

1. 소재 미리보기 화면에서 **내 기기에서 보기** 버튼을 클릭합니다.
2. 등록된 테스트 기기를 선택합니다.
3. **미리보기** 버튼을 클릭합니다.
4. 선택한 기기에서 앱을 실행하면 해당 소재가 노출됩니다.

### 지원 환경

미리보기 기능은 기기의 광고 식별자(ADID/IDFA)를 사용하여 동작합니다. 다음 SDK 버전 이상이 필요합니다.

| 플랫폼 | 최소 버전 |
|--------|----------|
| **Android** | 1.3.1 |
| **iOS** | 1.3.0 |
| **Flutter** | 1.1.1 |
| **React Native** | 1.1.1 |
| **Web** | 버전 무관 (ADID 필요) |

지원되지 않는 버전에서는 미리보기 버튼이 비활성화되고 안내 메시지가 표시됩니다.

### 제약사항

| 항목 | 내용 |
|------|------|
| **유효 시간** | 미리보기 설정 후 5분 이내에 확인해야 합니다. |
| **기기 등록** | 미리보기할 기기의 ADID가 미리 등록되어 있어야 합니다. |
| **앱 실행** | 미리보기 설정 후 앱을 새로 실행해야 소재가 노출됩니다. |

---

## 다음 단계

👉 [캠페인 알림](./notifications.md)에서 캠페인 운영 중 발송되는 알림을 확인하세요.

---

## FAQ

**Q. 캠페인 예산을 변경할 수 있나요?**

승인된 캠페인의 예산은 변경할 수 없습니다. 예산 변경이 필요하면 광고주에게 새 캠페인을 예약하도록 안내하세요.

**Q. 일시정지 중에도 종료일이 지나면 어떻게 되나요?**

캠페인이 자동 종료됩니다. 일시정지는 종료일을 연장하지 않으므로, 필요시 종료일을 먼저 연장하세요.

**Q. 복제된 캠페인의 타겟팅이 초기화됐어요.**

원본 캠페인의 타겟팅에 포함된 카테고리나 그룹이 삭제/비활성화된 경우입니다. 복제 후 타겟팅 설정을 다시 확인하세요.

**Q. 테스트 기기에서 미리보기가 안 돼요.**

ADID가 정확한지, 미리보기 설정 후 5분 이내인지, 앱을 새로 실행했는지 확인하세요. SDK 버전이 지원되지 않으면 미리보기 버튼이 비활성화됩니다.
