# 오디언스 타겟팅 만들기

오디언스 타겟팅은 사용자 속성(프로퍼티)을 기반으로 특정 사용자에게 광고를 노출하는 기능입니다.

이 가이드에서는 **로컬 액티비티 앱**을 예시로 오디언스 타겟팅을 만드는 방법을 설명합니다. 사용자의 활동 지역과 예약 횟수를 조합하여 타겟팅 카테고리를 구성합니다.

---

## 프로퍼티란?

**프로퍼티**는 사용자의 속성 정보입니다. 나이, 성별, 관심사, 회원 등급 등 사용자를 구분할 수 있는 모든 데이터가 프로퍼티가 될 수 있습니다.

프로퍼티는 SDK를 통해 수집되며, 수집된 프로퍼티를 조합하여 타겟팅 카테고리를 만듭니다.

---

## 기본 프로퍼티

애드컨트롤에서 기본으로 제공하는 프로퍼티입니다.

| 프로퍼티 | 설명 | 수집 방식 | 데이터 포맷 |
|----------|------|----------|-------------|
| **국가** | 사용자의 국가 정보 | 자동 수집 | ISO 국가 코드 2자리 (KR, US, JP) |
| **언어** | 사용자의 언어 설정 | 자동 수집 | ISO 언어 코드 (ko, en, ja) |
| **나이** | 사용자의 나이 | SDK에서 생일 전달 필요 | YYYY, YYYYMM, YYYYMMDD 형식 |
| **성별** | 사용자의 성별 | SDK에서 전달 필요 | M(남성), F(여성), O(그 외), U(미확인) |

> 💡 국가, 언어는 디바이스 locale 설정에서 자동으로 수집됩니다. 나이와 성별은 SDK에서 직접 전달해야 합니다.

---

## 커스텀 프로퍼티

[▶ 영상 보기](./assets/targeting-properties.mp4)

기본 프로퍼티 외에 서비스에 맞는 커스텀 프로퍼티를 추가할 수 있습니다.

### 예시: 로컬 액티비티 앱

로컬 액티비티 앱에서 사용자의 활동 지역과 예약 횟수를 수집한다고 가정합니다.

| 프로퍼티 | 타입 | 설명 | 값 예시 |
|----------|------|------|---------|
| `region` | 문자열 | 사용자의 활동 지역 | Seoul, Busan, Jeju |
| `booking_count` | 숫자 | 누적 예약 횟수 | 0, 5, 20 |

> ⚠️ 문자열 값은 대소문자를 구분합니다. SDK에서 전달하는 값과 동일하게 입력하세요.

이 두 프로퍼티를 조합하면 다양한 타겟팅 카테고리를 만들 수 있습니다.

### 커스텀 프로퍼티 추가하기

1. 좌측 메뉴에서 **타겟팅**을 클릭합니다.
2. 하단의 **프로퍼티** 섹션에서 **프로퍼티 상세** 버튼을 클릭합니다.
3. **프로퍼티 추가** 버튼을 클릭합니다.
4. 프로퍼티 이름과 데이터 타입을 입력합니다.
5. **저장** 버튼을 클릭합니다.

### 프로퍼티 이름 규칙

- 3~64자의 영어 소문자, 숫자, 밑줄(_)만 사용 가능
- 예: `membership_level`, `asset_size`, `baby_months`

### 데이터 타입

| 타입 | 설명 | 예시 |
|------|------|------|
| **문자열** | 텍스트 값 | "premium", "gold", "drama" |
| **숫자** | 정수 또는 소수 | 25, 100000000, 3.5 |
| **불린** | 참/거짓 | true, false |
| **날짜** | 날짜 값 | 2024-01-15 |
| **문자열 배열** | 여러 텍스트 값 | ["drama", "action", "comedy"] |
| **숫자 배열** | 여러 숫자 값 | [1, 2, 3] |
| **불린 배열** | 여러 참/거짓 값 | [true, false, true] |

> ⚠️ 프로퍼티가 타겟팅에 사용 중이면 데이터 타입을 변경할 수 없습니다.

---

## 오디언스 타겟팅 생성하기

[▶ 영상 보기](./assets/audience-targeting-category.mp4)

### 1단계: 타겟팅 유형 선택

1. 좌측 메뉴에서 **타겟팅**을 클릭합니다.
2. 오디언스 타겟팅 섹션에서 **오디언스 타겟팅 생성** 버튼을 클릭합니다.
3. 타겟팅 유형을 선택합니다.

**자동완성 타겟팅** (연령대, 성별, 국가, 언어)
- 카테고리가 자동으로 추천됩니다.
- 타겟팅 이름을 변경할 수 없습니다.

**커스텀 타겟팅**
- 커스텀 프로퍼티를 사용하여 직접 카테고리를 구성합니다.
- 타겟팅 이름을 자유롭게 설정할 수 있습니다.

### 2단계: 타겟팅 정보 입력

**타겟팅 이름** (커스텀 타겟팅만 해당)

광고주에게 표시될 타겟팅 이름을 입력합니다.

**할증률**

이 타겟팅을 선택했을 때 적용할 할증률을 설정합니다. (0% ~ 200%)

### 3단계: 카테고리 추가

**자동완성 타겟팅의 경우**

추천된 카테고리 카드를 클릭하여 추가합니다.

**커스텀 타겟팅의 경우**

1. **+ 커스텀 카테고리 추가** 버튼을 클릭합니다.
2. 카테고리 이름을 입력합니다.
3. 조건을 설정합니다.
   - 프로퍼티 선택
   - 연산자 선택 (같음, 포함, 이상, 이하 등)
   - 값 입력
4. 필요시 **조건 추가**로 여러 조건을 조합합니다.
5. **추가** 버튼을 클릭합니다.

**예시: 로컬 액티비티 앱 카테고리 구성**

`region`과 `booking_count` 프로퍼티를 조합하여 "Regional User Tier" 타겟팅을 만듭니다.

| 카테고리 | 조건 |
|----------|------|
| 서울 신규 유저 | region is "Seoul" AND booking_count < 3 |
| 서울 활성 유저 | region is "Seoul" AND booking_count >= 3 AND booking_count < 10 |
| 서울 파워 유저 | region is "Seoul" AND booking_count >= 10 |
| 부산 신규 유저 | region is "Busan" AND booking_count < 3 |
| 부산 활성 유저 | region is "Busan" AND booking_count >= 3 AND booking_count < 10 |
| 부산 파워 유저 | region is "Busan" AND booking_count >= 10 |
| 제주 신규 유저 | region is "Jeju" AND booking_count < 3 |
| 제주 활성 유저 | region is "Jeju" AND booking_count >= 3 AND booking_count < 10 |
| 제주 파워 유저 | region is "Jeju" AND booking_count >= 10 |

### 4단계: 저장

**타겟팅 생성** 버튼을 클릭하여 저장합니다.

---

## 카테고리 그룹 설정

[▶ 영상 보기](./assets/audience-targeting-category-group.mp4)

여러 카테고리를 하나로 묶어 광고주에게 제공할 수 있습니다.

1. 생성된 타겟팅 카드를 클릭합니다.
2. **카테고리 그룹 설정** 버튼을 클릭합니다.
3. 그룹 이름을 입력합니다.
4. 포함할 카테고리를 선택합니다.
5. **저장** 버튼을 클릭합니다.

> ⚠️ 그룹으로 묶인 카테고리는 개별 선택이 불가능해집니다.

**예시: 해안 그룹 만들기**

부산과 제주 카테고리를 묶어 "해안" 그룹을 만듭니다.

| 그룹 | 포함 카테고리 |
|------|---------------|
| 해안 신규 유저 | 부산 신규 유저, 제주 신규 유저 |
| 해안 활성 유저 | 부산 활성 유저, 제주 활성 유저 |
| 해안 파워 유저 | 부산 파워 유저, 제주 파워 유저 |

그룹 설정 후 광고주에게 표시되는 옵션:

- 서울 신규 유저, 서울 활성 유저, 서울 파워 유저
- **해안 신규 유저**, **해안 활성 유저**, **해안 파워 유저** (그룹)

---

## 다음 단계

👉 [문맥 타겟팅 만들기](./03-context.md)에서 콘텐츠 기반 타겟팅을 만드는 방법을 확인하세요.
